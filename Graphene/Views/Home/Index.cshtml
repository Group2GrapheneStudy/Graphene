@{
    ViewData["Title"] = "Home";
}

<style>
    /* Simple hero styling (no keyframes ) */
    .hero-banner {
        background: linear-gradient(135deg, #1a73e8, #00b894, #e67e22);
        color: #ffffff;
        border-radius: 1.5rem;
        padding: 2.5rem 2rem;
    }

    .hero-badge {
        text-transform: uppercase;
        letter-spacing: .15em;
        font-size: .75rem;
        background: rgba(0, 0, 0, 0.25);
        border-radius: 999px;
        padding: .25rem .75rem;
        display: inline-block;
    }

    .feature-card {
        transition: transform .2s ease, box-shadow .2s ease;
    }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 .75rem 1.5rem rgba(0, 0, 0, 0.08);
        }

    .heatmap-wrapper {
        background: #0f172a;
        border-radius: 1rem;
        padding: 1.5rem;
        color: #e5e7eb;
    }

    .heatmap-grid {
        display: grid;
        grid-template-columns: repeat(16, 1fr);
        gap: 2px;
        width: 100%;
        max-width: 380px;
        aspect-ratio: 1 / 1;
        margin: 0 auto;
    }

    .heatmap-cell {
        border-radius: 2px;
        background-color: #1f2937; /* base, will be overwritten by JS */
        transition: background-color .3s ease;
    }

    .stat-number {
        font-size: 1.75rem;
        font-weight: 700;
    }
</style>

<div class="container my-4">

    <!-- HERO -->
    <section class="hero-banner mb-5 shadow-sm">
        <div class="row align-items-center">
            <div class="col-lg-7 mb-4 mb-lg-0">
                <span class="hero-badge mb-3">Graphene Trace Sensore</span>
                <h1 class="display-5 fw-bold mb-3">Monitoring pressure, protecting skin.</h1>
                <p class="lead mb-4">
                    Graphene Trace turns live pressure data from the bed surface into clear heatmaps,
                    early alerts and reports – so patients, clinicians and admins can prevent
                    pressure injuries together.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a class="btn btn-light btn-lg" href="/Account/Login">Get started</a>
                    <a class="btn btn-outline-light btn-lg" href="#live-preview">See live preview</a>
                </div>
            </div>

            <div class="col-lg-5">
                <div class="heatmap-wrapper shadow-sm">
                    <h5 class="mb-2">Live pressure snapshot (demo)</h5>
                    <p class="small text-muted mb-3">
                        This simulated heatmap gives you a feel for how pressure shifts over time.
                    </p>
                    <div class="heatmap-grid">
                        @for (var i = 0; i < 16 * 16; i++)
                        {
                            <div class="heatmap-cell"></div>
                        }
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <div>
                            <span style="display:inline-block;width:20px;height:8px;border-radius:999px;background:#2563eb;"></span>
                            <span style="display:inline-block;width:20px;height:8px;border-radius:999px;background:#22c55e;"></span>
                            <span style="display:inline-block;width:20px;height:8px;border-radius:999px;background:#eab308;"></span>
                            <span style="display:inline-block;width:20px;height:8px;border-radius:999px;background:#ef4444;"></span>
                        </div>
                        <small class="text-muted">Low → High pressure</small>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- QUICK STATS (animated counters) -->
    <section class="mb-5">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card shadow-sm border-0 h-100">
                    <div class="card-body">
                        <p class="text-muted mb-1">Pressure frames analysed</p>
                        <div class="stat-number" data-target="12000">0</div>
                        <p class="small text-muted mb-0">Example volume in a typical week of monitoring.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm border-0 h-100">
                    <div class="card-body">
                        <p class="text-muted mb-1">Alerts raised</p>
                        <div class="stat-number" data-target="340">0</div>
                        <p class="small text-muted mb-0">Risk notifications before pressure causes damage.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm border-0 h-100">
                    <div class="card-body">
                        <p class="text-muted mb-1">Team members connected</p>
                        <div class="stat-number" data-target="32">0</div>
                        <p class="small text-muted mb-0">Patients, clinicians and admins working together.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FEATURES -->
    <section class="mb-5">
        <h2 class="h3 fw-bold mb-3">Three views, one shared picture</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card feature-card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="mb-2 fs-3">🧑‍🦽</div>
                        <h5 class="card-title">Patient dashboard</h5>
                        <p class="card-text text-muted">
                            Easy-to-understand colour maps and simple alerts guide patients on when to
                            move, without overwhelming them with data.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="mb-2 fs-3">🩺</div>
                        <h5 class="card-title">Clinician dashboard</h5>
                        <p class="card-text text-muted">
                            Clinicians review trends, filter by time window, reply to patient comments
                            and generate reports for the care record.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div class="mb-2 fs-3">🛠️</div>
                        <h5 class="card-title">Admin dashboard</h5>
                        <p class="card-text text-muted">
                            Admins manage accounts, roles and system health – making sure the platform
                            stays secure and available 24/7.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="live-preview" class="mb-5">
        <div class="row g-4 align-items-center">
            <div class="col-lg-6">
                <h2 class="h4 fw-bold mb-3">How Graphene Trace fits into care</h2>
                <ol class="list-unstyled">
                    <li class="mb-3">
                        <strong>1. Sensor mat captures pressure.</strong><br />
                        The graphene mat streams pressure frames as the patient lies or moves.
                    </li>
                    <li class="mb-3">
                        <strong>2. Platform analyses risk.</strong><br />
                        The system tracks peaks, pressure duration and contact area to identify risk patterns.
                    </li>
                    <li>
                        <strong>3. Dashboards turn data into action.</strong><br />
                        Patients, clinicians and admins see the same story – and can act before damage occurs.
                    </li>
                </ol>
            </div>
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h5 class="fw-bold mb-2">Inside the dashboards</h5>
                        <p class="text-muted mb-3">
                            Live heatmaps, alert banners, comment threads and exportable reports are
                            all part of the Graphene Trace experience.
                        </p>
                        <ul class="list-group list-group-flush small">
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Real-time heatmap view</span>
                                <span class="badge bg-primary">Visual</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Automatic high-risk alerts</span>
                                <span class="badge bg-danger">Alerts</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Patient–clinician comments</span>
                                <span class="badge bg-secondary">Collaboration</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Summary and trend reports</span>
                                <span class="badge bg-success">Reports</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="mb-4">
        <div class="rounded-4 border p-4 p-md-5 bg-light d-flex flex-column flex-md-row align-items-md-center justify-content-between">
            <div class="mb-3 mb-md-0">
                <h3 class="h4 fw-bold mb-1">Ready to explore Graphene Trace?</h3>
                <p class="mb-0 text-muted">
                    Log in or register to access your role-specific dashboard.
                </p>
            </div>
            <div class="d-flex gap-2">
                <a class="btn btn-primary btn-lg" href="/Account/Register">Create an account</a>
                <a class="btn btn-outline-secondary btn-lg" href="/Account/Login">Log in</a>
            </div>
        </div>
    </section>

</div>

@section Scripts {
    <script>
        // Animated heatmap colours
        (function () {
            const cells = document.querySelectorAll('.heatmap-cell');

            function randomiseHeatmap() {
                cells.forEach(cell => {
                    const v = Math.floor(Math.random() * 100); // 0–99
                    const hue = 240 - (v * 2.4); // blue -> red
                    cell.style.backgroundColor = `hsl(${hue}, 85%, 50%)`;
                });
            }

            randomiseHeatmap();
            setInterval(randomiseHeatmap, 2000);
        })();

        // Simple animated counters
        (function () {
            const stats = document.querySelectorAll('.stat-number');

            stats.forEach(stat => {
                const target = parseInt(stat.getAttribute('data-target'));
                let current = 0;
                const step = Math.max(1, Math.floor(target / 80));

                const interval = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        current = target;
                        clearInterval(interval);
                    }
                    stat.textContent = current.toString();
                }, 30);
            });
        })();
    </script>
}
